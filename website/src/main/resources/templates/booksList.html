<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home admin</title>
    <link rel="stylesheet" type="text/css" href="/static/css/sach.css"/>
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">-->
</head>
<body>
<div class="container">
    <div class="navigation">
        <ul>
            <li>
                <a href="#">
                        <span class="icon">
                            <ion-icon name="menu-outline"></ion-icon>
                        </span>
                    <span class="title">HỆ THỐNG QUẢN LÝ</span>
                </a>
            </li>
            <li>
                <a href="/available_categories">
                        <span class="icon">
                            <ion-icon name="folder-outline"></ion-icon>
                        </span>
                    <span class="title">Quản lý danh mục</span>
                </a>
            </li>
            <li>
                <a href="/available_author">
                        <span class="icon">
                            <ion-icon name="pencil-outline"></ion-icon>
                        </span>
                    <span class="title">Quản lý tác giả</span>
                </a>
            </li>
            <li>
                <a href="/available_publisher">
                        <span class="icon">
                            <ion-icon name="storefront-outline"></ion-icon>
                        </span>
                    <span class="title">Quản lý nhà xuất bản</span>
                </a>
            </li>
            <li>
                <a href="/available_books">
                        <span class="icon">
                            <ion-icon name="book-outline"></ion-icon>
                        </span>
                    <span class="title">Quản lý sách</span>
                </a>
            </li>
            <li>
                <a href="/available_users">
                        <span class="icon">
                            <ion-icon name="people-outline"></ion-icon>
                        </span>
                    <span class="title">Quản lý người dùng</span>
                </a>
            </li>
            <li>
                <a href="/available_orders">
                        <span class="icon">
                            <ion-icon name="bag-handle-outline"></ion-icon>
                        </span>
                    <span class="title">Quản lý đơn hàng</span>
                </a>
            </li>
            <!--<li>
                <a href="/available_statistical">
                        <span class="icon">
                            <ion-icon name="server-outline"></ion-icon>
                        </span>
                    <span class="title">Thống kê thông tin</span>
                </a>
            </li>-->
            <li>
                <!--<a href="/available_dashboard">-->
                <a href="dashboard.html">
                        <span class="icon">
                            <ion-icon name="bar-chart-outline"></ion-icon>
                        </span>
                    <span class="title">Thống kê doanh thu</span>
                </a>
            </li>
        </ul>
    </div>
</div>

<div class="main">
    <div class="topbar">
        <div class="toggle">
            <span class="title">SÁCH VIỆT</span>
        </div>
        <div class="user">
                <span class="icon">
                            <ion-icon name="person-circle-outline"></ion-icon>
                        </span>
            <span class="title">ADMIN</span>
        </div>
    </div>

    <div class="categories-content">
        <span>Quản lý sách</span>
    </div>
    <div style="margin-left: 20px">
        <div style="display: flex; align-items: center;">
            <button onclick="redirectToBooksRegister()"
                    style="background:#4CAF50; color: white; width: 130px; height: 30px; line-height: 20px;">
                Thêm sách
            </button>
        </div>

        <script>
            function redirectToBooksRegister() {
                window.location.href = '/books_register';
            }
        </script>
    </div>
    <br>
    <div class = "detail">
        <table>
            <thead>
            <tr>
                <th scope="col">Mã sách</th>
                <th scope="col">Hình ảnh</th>
                <th scope="col">Tên sách</th>
                <th scope="col">Giá sách (VNĐ)</th>
                <th scope="col">Số lượng</th>
                <th scope="col">Mô tả</th>
                <th scope="col">Số trang</th>
                <th scope="col">Loại bìa</th>
                <th scope="col">Kích thước</th>
                <th scope="col">Ngày xuất bản</th>
                <th scope="col">Danh mục</th>
                <th scope="col">Tác giả</th>
                <th scope="col">Nhà xuất bản</th>
                <th scope="col">Chức năng</th>
            </tr>
            </thead>
            <tbody>
            <tr style="text-align: center" th:each="b:${books}">
                <td th:text="${b.idSach}"></td>
                <td><img th:if="${b.image != null}" th:src="@{'/static/images/' + ${b.idSach}}" alt="Hình ảnh sách" style="max-width: 160px;"></td>
                <td th:text="${b.tenSach}"></td>
                <td th:text="${b.giaSach}"></td>
                <td th:text="${b.soLuong}"></td>
                <td style="white-space: pre-wrap;" th:text="${b.moTa}"></td>
                <td th:text="${b.soTrang}"></td>
                <td th:text="${b.loaiBia}"></td>
                <td th:text="${b.kichThuoc}"></td>
                <td th:text="${b.ngayXB}"></td>
                <!--<td th:text="${b.categories.idDM}"></td>
                <td th:text="${b.author.idTG}"></td>
                <td th:text="${b.publisher.idNXB}"></td>-->
                <td th:text="${b.categories != null ? b.categories.tenDM : 'Unknown'}"></td>
                <!--<td th:text="${b.author != null ? b.author.idTG + ' - ' + b.author.tenTG : 'Unknown'}"></td>-->
                <td th:text="${b.author != null ? b.author.tenTG : 'Unknown'}"></td>
                <td th:text="${b.publisher != null ? b.publisher.tenNXB : 'Unknown'}"></td>
                <td>
                    <a th:href="@{'/editBooks/' + ${b.idSach}}"
                       style="background:#155aee; color: white; width: 70px; height: 30px; line-height: 20px; display: inline-block; text-decoration: none; text-align: center;">
                        Cập nhật
                    </a>
                    <a th:href="@{'/deleteBooks/' + ${b.idSach}}"
                       onclick="return confirm('Bạn có chắc muốn xóa không?')"
                       style="background:#f5353b; color: white; width: 70px; height: 30px; line-height: 20px; display: inline-block; text-decoration: none; text-align: center;">
                        Xóa
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <!--icon-->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!--content-->
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
            crossorigin="anonymous"></script>
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
            integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
            crossorigin="anonymous"></script>
</div>
</body>
</html>
